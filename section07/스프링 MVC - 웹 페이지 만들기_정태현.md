# 07_스프링 MVC - 웹 페이지 만들기

## 타임리프 태그 정리

- 타임리프 사용 선언
  - `<html xmlns:th="http://www.thymeleaf.org">`
- 타임리프의 핵심
  - 핵심은 `th:xxx` 가 붙은 부분은 서버사이드에서 렌더링 될 때 기존의 것을 대체한다. `th:xxx`이 없으면 기존 html의 속성이 그대로 사용된다. 
  - HTML을 파일로 직접 열었을 때, `th:xxx`가 있어도 웹 브라우저는 `th:` 속성을 알지 못하므로 무시한다. 
  - 따라서 HTML을 파일 보기를 유지하면서 템플릿 기능도 할 수 있다.
- 속성 변경 - `th:href`
  - `href="value1"` 을 `th:href="value2"`의 값으로 변경한다.
  - 타임리프 뷰 템플릿을 거치게 되면 원래 값을 `th:xxx` 값에 설정된 값으로 변경한다. 만약 값이 없다면 새로 생성한다.
  - HTML을 그대로 볼 때는 `href` 속성이 사용되고, 뷰 템플릿을 거치면 `th:href`의 값이 `href`으로 대체되면서 동적으로 변경할 수 있다.
- URL 링크 표현식 - `@{...}`
  - `@{...}` : 타임리프는 URL 링크를 사용하는 경우 `@{...}`을 사용한다. 이것을 URL 링크 표현식이라고 한다.
- 리터럴 대체 - `|...|`
  - 타임리프에서 문자와 표현식 등은 분리되어 있기 때문에 + 연산자를 이용해 더해서 사용해야 했었다.
    - `<span th:text="'Welcome to our application, ' + ${user.name} + '!'">`
  - 하지만 다음과 같이 리터럴 대체 문법을 사용하면, + 연산자의 사용없이 보다 편리하게 같은 기능을 구현할 수 있다.
    - `<span th:text="|Welcome to our application, ${user.name}!|">`
- 반복 출력 - `th:each`
  - ex) `<tr th:each="item : ${items}">`
  - 반복은 `th:each`를 사용한다. 이렇게 하면 모델에 포함된 `items` 컬렉션 데이터가 `item` 변수에 하나씩 포함되고, 반복문 안에서 `item` 변수를 사용할 수 있다. 
  - 컬렉션의 수 만큼 `<tr> .. </tr>` 이 하위 테그를 포함해서 생성된다
- 변수 표현식 - `${..}`
  - ex) `<td th:text="${item.price}>"1000</td>`
  - 모델에 포함된 값이나, 타임리프 변수로 선언한 값을 조회할 수 있다. 
  - 프로퍼티 접근법을 사용한다. [ex) getXxx() ]
- 내용 변경 - `th:text`
  - ex) ` <td th:text="${item.price}">10000 </td>`
  - 내용의 값을 `th:text` 의 값으로 변경한다. 
  - 여기서는 10000을 `${item.price}` 의 값으로 변경한다.
- 속성 변경 - `th:value`
  - ex) `th:value="${item.id}"`
  - 모델에 있는 item 정보를 획득하고 프로퍼티 접근법으로 출력한다.
- 속성 변경 - `th:action` 
  - HTML form에서 `action`에 **값이 없으면 현재 URL에 데이터를 전송**한다.